(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1514fbc4"],{1975:function(e,t,s){"use strict";var n=s("857e");t["a"]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=document.createElement("div");new Vue({el:t,components:{SeExport:n["a"]},data:function(){return{show:!0,files:e.files,zipfileName:e.zipfileName,beforeExport:e.beforeExport,downloadMode:e.downloadMode,downloadCount:e.downloadCount,totalCount:e.totalCount,semesterRequired:e.semesterRequired}},methods:{fail:function(){return"function"===typeof e.fail?e.fail():void 0},success:function(){return"function"===typeof e.success?e.success():void 0},complete:function(){this.show=!1}},template:'\n      <se-export\n        v-if="show"\n        :files="files"\n        :zipfile-name="zipfileName"\n        :before-export="beforeExport"\n        :download-mode="downloadMode"\n        :download-count="downloadCount"\n        :total-count="totalCount"\n        :semester-required="semesterRequired"\n        @fail="fail"\n        @success="success"\n        @complete="complete"\n      >\n      </se-export>\n    '})}},"1e3c":function(e,t,s){"use strict";var n=s("f5f7"),i=s.n(n);i.a},"2ae5":function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("e-charts",{style:e.innerStyle,attrs:{options:e.options}})},i=[],r=(s("ac6a"),s("c5f6"),s("9ca8")),a=(s("94b1"),s("007d"),s("627c"),{components:{ECharts:r["a"]},props:{gradeData:{type:Object,required:!0},max:{type:Number},size:{type:String,default:"desktop"}},data:function(){return{xaxisData:_.keys(this.gradeData),seriesData:_.values(this.gradeData)}},computed:{innerStyle:function(){return"desktop"===this.size?{width:"100%",height:"300px"}:"mobile"===this.size?{width:"100%",height:"200px"}:{}},options:function(){return{title:{text:"人数",top:"0",textStyle:{fontSize:"14",color:"#999"}},tooltip:{trigger:"axis",formatter:"·{b} <br/>·{c}人 <br/>",axisPointer:{type:"shadow"}},grid:{top:"15%",left:"3%",right:"3%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",axisLabel:{textStyle:{color:"#888"}},nameTextStyle:{color:"#999"},axisLine:{lineStyle:{color:"#f5f5f5"}},axisTick:{show:!1},data:this.xaxisData}],yAxis:[{min:"0",axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:"#888"}},splitLine:{show:!0,lineStyle:{color:"#eee"}}}],color:["#3E91F2"],series:[{type:"bar",barWidth:"22%",data:this.seriesData}]}}}}),o=a,c=s("2877"),l=Object(c["a"])(o,n,i,!1,null,null,null);t["a"]=l.exports},"48e0":function(e,t,s){"use strict";t["a"]={props:{assessment:{type:Object,required:!0},dimension:{type:Object},assessmentItem:{type:Object},gradeSetting:{type:Object},finalGrade:{type:Object}},methods:{transformTotal:function(e){var t="avg"===this.dimension.calculation_type?this.dimension.within_score/this.dimension.assessment_items.length:e.data.within_score;return _.round(e.score/e.data.max_score*t,2)},rateScore:function(e){return Math.round(e.score/e.data.max_score*5)},toRound:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return _.round(e,t)}},computed:{isFluctuation:function(){return!!this.assessmentItem&&"score_item"===this.assessmentItem.scoring_type},shouldShowRank:function(){return"grade"===this.assessment.type?!!this.gradeSetting.student_student_rank:"common"!==this.assessment.type||!!this.assessment.options.student_student_rank},realTotalScore:function(){return _.sumBy(this.assessment.dimensions,"within_score")}}}},"4d61":function(e,t,s){"use strict";s.d(t,"a",function(){return d});s("ac6a"),s("96cf");var n=s("3b8d"),i=s("d225"),r=s("b0b4"),a=s("308d"),o=s("6bb5"),c=s("4e2b"),l=s("3fa7"),u=s("1975"),d=function(e){function t(){return Object(i["a"])(this,t),Object(a["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),Object(r["a"])(t,null,[{key:"exportStatistics",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,s){var n,i,r,a,o,c,l=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t&&t.length){e.next=3;break}return toast.error("请选择课程"),e.abrupt("return");case 3:if(s){e.next=6;break}return toast.error("请指定学期"),e.abrupt("return");case 6:return e.prev=6,n=[],i=[],r=0,a=2e4,t.forEach(function(e,o){var c=e.class.success_count*e.assessment_items_count;r+c>=a?(n.push({name:"学生得分详情",url:l.exportStudentStatisticScoreUrl,verb:"POST",payload:{ids:i,semester_id:s}}),i=[e.class.id],r=e.class.success_count*e.assessment_items_count):(i.push(e.class.id),r+=c,o===t.length-1&&n.push({name:"学生得分详情",url:l.exportStudentStatisticScoreUrl,verb:"POST",payload:{ids:i,semester_id:s}}))}),n.length>1&&n.forEach(function(e,t){var s=t+1;e.name="".concat(e.name,"(").concat(s,")"),e.url="".concat(e.url),e.query={_index:s}}),o={ids:t.map(function(e){return e.class.id}),semester_id:s},e.next=16,this.$http.post(this.exportTeacherStatisticUrl,o);case 16:c=e.sent,n.unshift(c),Object(u["a"])({files:n}),e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](6),dialog.error(Vue.t("导出失败"),e.t0.message);case 24:case"end":return e.stop()}},e,this,[[6,21]])}));function t(t,s){return e.apply(this,arguments)}return t}()},{key:"getFinalGradeStats",value:function(e,t){var s="".concat(this.baseURL,"/").concat(this.controller,"/assessments/").concat(e,"/grades");return this.getJSON(s,t)}},{key:"getItemGradeStats",value:function(e,t){var s="".concat(this.baseURL,"/").concat(this.controller,"/assessment-items/").concat(e,"/scores");return this.getJSON(s,t)}},{key:"NAME",get:function(){return"GradeStats"}},{key:"controller",get:function(){return"nas/stats"}},{key:"exportTeacherStatisticUrl",get:function(){return this.createResourceURL(null,"statistic-teacher")}},{key:"exportStudentStatisticScoreUrl",get:function(){return this.createResourceURL(null,"statistic-student")}}]),t}(l["a"])},"5bba":function(e,t,s){s("9d98");var n=s("584a").Object;e.exports=function(e,t){return n.defineProperties(e,t)}},"5f96":function(e,t,s){},7929:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"assessment-intro card"},[s("div",{staticClass:"card__title"},[s("strong",[e._v(e._s("question"===e.dimension.type?"定期问卷介绍":"评价项介绍"))])]),s("div",{staticClass:"card-block"},[s("div",{staticClass:"assessment-intro__list"},["question"===e.dimension.type?s("div",{staticClass:"assessment-intro__list-item"},[s("strong",[e._v("频率:")]),s("span",[e._v(e._s(e.feedbackCycle))])]):s("div",{staticClass:"assessment-intro__list-item"},[s("strong",[e._v("计分方式:")]),s("span",[e._v(e._s(e.markScoreType))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showRtf,expression:"showRtf"}],staticClass:"assessment-intro__list-item limit",class:{unfold:e.unfold}},[s("p",{ref:"rtf",staticClass:"rtf"},[s("strong",[e._v("说明:")]),s("span",{domProps:{innerHTML:e._s(e.assessmentItem.description)}}),e._l(e.assessmentItem.attachments,function(t){return s("a",{staticClass:"link pointer",attrs:{"data-flag":"attachment",href:e.fileDownloadLink(t)}},[s("span",{staticClass:"icon icon-paperclip"}),s("span",[e._v(e._s(t.name))])])})],2)])])]),e.showUnfoldBtn?s("div",{staticClass:"card-footer",on:{click:function(t){e.unfold=!e.unfold}}},[s("span",[e._v(e._s(e.unfold?"收起":"展开"))]),s("span",{staticClass:"icon",class:e.unfold?"icon-angle-up":"icon-angle-down"})]):e._e()])},i=[],r=(s("28a5"),s("26a1")),a={props:{dimension:{type:Object},assessmentItem:{type:Object}},data:function(){return{showUnfoldBtn:!1,unfold:!1}},computed:{showRtf:function(){return this.assessmentItem.description||!_.isEmpty(this.assessmentItem.attachments)},markScoreType:function(){var e=this.assessmentItem.option_self_assessment?"学生自评, ":"";switch(this.assessmentItem.scoring_type){case"score":return"".concat(e,"分数记分");case"level":return"".concat(e,"标星记分");case"score_item":return"".concat(e,"加减分记分");default:return"数据错误"}},feedbackCycle:function(){switch(this.dimension.interval){case 7:return"每周一次";case 14:return"每两周一次";case 28:return"每四周一次";default:return"每".concat(this.dimension.interval,"天一次")}}},watch:{assessmentItem:function(){this.controlUnfoldBtn()}},mounted:function(){this.controlUnfoldBtn()},methods:{controlUnfoldBtn:function(){if(this.$refs.rtf){var e=Object(r["e"])(this.$refs.rtf,"height");this.showUnfoldBtn=e>85}},fileDownloadLink:function(e){var t=e.hash,s=t.split(".");return"".concat("https://platform.seiue.com","/files/").concat(s[0],".download.").concat(s[1])}}},o=a,c=(s("f3fb9"),s("2877")),l=Object(c["a"])(o,n,i,!1,null,"1f4cffeb",null);t["a"]=l.exports},"857e":function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"export export_new",class:e.className,on:{click:e.clickExport}},[e._v(e._s(e.labelText)),n("se-popup",{attrs:{show:e.isPopupShow,"popup-style":"width: 320px; border-radius: 3px",dismissable:!1,"hide-header":"","hide-footer":"","hide-close":""},on:{"update:show":function(t){e.isPopupShow=t}}},[n("div",{staticClass:"export-popup",attrs:{slot:"body"},slot:"body"},[n("img",{attrs:{src:s("983b"),width:"72px",height:"72px"}}),n("div",{staticClass:"export-popup-content"},[n("div",{staticClass:"export-popup-content__main"},[e._v(e._s(e.isLoaded?"导出成功，正在下载文件...":e.hintPopupText))]),e.isLoaded?e._e():n("div",{staticClass:"export-popup-content__supplement"},[e._v(e._s(e.supplementText))])]),e.url?n("div",{staticClass:"export-popup-download"},[n("div",{staticClass:"export-popup-download__text"},[e._v("如未自动下载，请手动点击文件名下载：")]),n("a",{staticClass:"export-popup-download__link",attrs:{href:e.url,target:"_blank"}},[e._v(e._s(e.name||"待下载文件"))]),n("iframe",{staticStyle:{display:"none"},attrs:{src:e.url,name:"iframe"}})]):e._e(),n("se-button",{staticClass:"export-popup__close-btn",attrs:{type:"primary"},on:{click:e.success}},[e._v("关闭")])],1)])],1)},i=[],r=(s("6762"),s("2fdb"),s("0a0d")),a=s.n(r),o=s("cebc"),c=(s("96cf"),s("c5f6"),s("3b8d")),l=s("0fea"),u=s("170a"),d=s("3fa7"),h=s("20d9"),p=s("ed08");function f(e){return m.apply(this,arguments)}function m(){return m=Object(c["a"])(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["a"].$http.post("".concat("https://ssr.seiue.com","/downloads"),t);case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}},e)})),m.apply(this,arguments)}var g={props:{files:{type:[Object,Array],required:!0},zipfileName:{type:String,default:"压缩包"},label:{type:String,default:""},beforeExport:{type:Function,default:null},downloadMode:{type:String,default:""},downloadCount:{type:Number,default:0},totalCount:{type:Number,default:0},semesterRequired:{type:Boolean,default:!0},host:{type:String,default:"https://chalkng.seiue.com"}},data:function(){return{url:null,name:"",isError:!1,isLoaded:!1,errorMsg:"",isDisabled:!1,isGettingUrl:!1,isPopupShow:!1}},computed:{className:function(){return{disabled:this.isGettingUrl||this.isDisabled}},labelText:function(){return this.isGettingUrl?"正在准备下载":(this.isError,this.label)},supplementText:function(){return"filter"!==this.downloadMode?"数据整合后下载将自动开始，请稍候":"如需下载全部数据，您需要清除筛选后再进行下载"},isSingleFile:function(){return!_.isArray(this.files)},hintPopupText:function(){var e=this.downloadCount?"".concat(this.downloadCount,"/").concat(this.totalCount):"".concat(this.totalCount);switch(this.downloadMode){case"all":return Vue.t("正在导出全部的{stats}条数据",{stats:e});case"filter":return Vue.t("正在导出筛选出的{stats}条数据",{stats:e});case"check":return Vue.t("正在导出勾选上的{stats}条数据",{stats:e});default:return"正在导出..."}}},mounted:function(){var e=this;this.label||this.$nextTick(function(){e.clickExport()})},methods:{fillUrl:function(e){return/^(http|https|data):/.test(e)?e:"".concat(this.host).concat(e)},setUrl:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,s,n,i,r,c,d,m,g,v,b,w,x=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.isGettingUrl=!0,this.isError=!1,this.errorMsg="",!this.isSingleFile){e.next=53;break}if(t=this.files,s=t.url,n=Object(o["a"])({},t.query,{_time_stamp:a()()}),i=t.name,s=this.fillUrl(s),!t.attachment){e.next=29;break}return e.next=12,l["a"].getAccessToken();case 12:r=e.sent,c=_.clone(n),c._authorization=l["a"].buildAccessTokenHeader(r),c._school_id=l["a"].schoolId,c._reflection_id=l["a"].actorReflection.id,c._acting_as=l["a"].reflection.id,c._lang=localStorage.getItem("lang")||"zh-CN",this.semesterRequired&&!c.semester_id&&(c.semester_id=u["default"].current.id),t.disableExport||"undefined"!==typeof c.export||(c.export=i,c.file_name=i),s.includes("/excels/")&&(c.title||(c.title=i),c.school_id||(c.school_id=l["a"].schoolId)),s="".concat(s,"?").concat(Object(h["a"])(c)),this.url=s,this.name=i,this.isGettingUrl=!1,this.isError=!1,e.next=51;break;case 29:return s="".concat(s,"?").concat(Object(h["a"])(n)),d={name:i,url:s,data_type:"pdf"===t.type?"html":"json",render_type:"pdf"===t.type?"pdf":"xlsx"},"POST"===t.verb&&(d.verb="POST",d.payload=t.payload),e.prev=32,e.next=35,f(d);case 35:m=e.sent,g=m.url,this.url=Object(p["b"])(g),this.name=i,this.isError=!1,e.next=48;break;case 42:throw e.prev=42,e.t0=e["catch"](32),this.url=null,this.isError=!0,this.errorMsg=e.t0.message?"".concat(e.t0.message,"，请重试"):"文件下载失败，请重试",e.t0;case 48:return e.prev=48,this.isGettingUrl=!1,e.finish(48);case 51:e.next=73;break;case 53:return v=this.files.map(function(e){var t=Object(o["a"])({},e.query,{_time_stamp:a()()}),s={name:e.name,url:"".concat(x.fillUrl(e.url),"?").concat(Object(h["a"])(t)),attachment:e.attachment};return"POST"===e.verb&&(s.verb="POST",s.payload=e.payload),s.attachment||(s.data_type="pdf"===e.type?"html":"json",s.render_type="pdf"===e.type?"pdf":"xlsx"),s}),e.prev=54,e.next=57,f({name:this.zipfileName,data:v});case 57:b=e.sent,w=b.url,this.url=Object(p["b"])(w),this.name=this.zipfileName,this.isError=!1,e.next=70;break;case 64:throw e.prev=64,e.t1=e["catch"](54),this.url=null,this.isError=!0,this.errorMsg=e.t1.message?"".concat(e.t1.message,"，请重试"):"文件下载失败，请重试",e.t1;case 70:return e.prev=70,this.isGettingUrl=!1,e.finish(70);case 73:case"end":return e.stop()}},e,this,[[32,42,48,51],[54,64,70,73]])}));function t(){return e.apply(this,arguments)}return t}(),clickExport:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.beforeExport||this.beforeExport()){e.next=4;break}return this.$emit("fail"),this.$emit("complete"),e.abrupt("return");case 4:return this.isPopupShow=!0,this.isDisabled=!0,e.next=8,this.setUrl();case 8:this.url&&!this.isError?this.isLoaded=!0:(this.$emit("fail"),this.$emit("complete"),toast.error(this.errorMsg),this.isPopupShow=!1,this.isDisabled=!1);case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),success:function(){this.$emit("success"),this.isPopupShow=!1,this.isLoaded=!1,this.isDisabled=!1,this.$emit("complete")}}},v=g,b=(s("ac79"),s("2877")),w=Object(b["a"])(v,n,i,!1,null,"2858cd74",null);t["a"]=w.exports},"983b":function(e,t,s){e.exports=s.p+"img/export-success.57696d5f.svg"},"9ca8":function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"echarts"})},i=[],r=s("d847"),a=s.n(r),o=s("3eba"),c=s.n(o),l=s("b047c"),u=s.n(l),d=s("a4bb"),h=s.n(d),p=(s("ac6a"),null);function f(e){return p||(p=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,16)}).bind(window)),p(e)}var _=null;function m(e){_||(_=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}).bind(window)),_(e)}function g(e){var t=document.createElement("style");return t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),(document.querySelector("head")||document.body).appendChild(t),t}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=document.createElement(e);return h()(t).forEach(function(e){s[e]=t[e]}),s}function b(e,t,s){var n=window.getComputedStyle(e,s||null)||{display:"none"};return n[t]}function w(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};var t=e;while(t!==document){if("none"===b(t,"display"))return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var x='.resize-triggers{visibility:hidden;opacity:0}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',y=0,z=null;function S(e,t){e.__resize_mutation_handler__||(e.__resize_mutation_handler__=C.bind(e));var s=e.__resize_listeners__;if(!s)if(e.__resize_listeners__=[],window.ResizeObserver){var n=e.offsetWidth,i=e.offsetHeight,r=new ResizeObserver(function(){(e.__resize_observer_triggered__||(e.__resize_observer_triggered__=!0,e.offsetWidth!==n||e.offsetHeight!==i))&&j(e)}),a=w(e),o=a.detached,c=a.rendered;e.__resize_observer_triggered__=!1===o&&!1===c,e.__resize_observer__=r,r.observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){j(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if(y||(z=g(x)),R(e),e.__resize_rendered__=w(e).rendered,window.MutationObserver){var l=new MutationObserver(e.__resize_mutation_handler__);l.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=l}e.__resize_listeners__.push(t),y++}function O(e,t){if(e.detachEvent&&e.removeEventListener)return e.detachEvent("onresize",e.__resize_legacy_resize_handler__),void document.removeEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);var s=e.__resize_listeners__;s&&(s.splice(s.indexOf(t),1),s.length||(e.__resize_observer__?(e.__resize_observer__.unobserve(e),e.__resize_observer__.disconnect(),e.__resize_observer__=null):(e.__resize_mutation_observer__&&(e.__resize_mutation_observer__.disconnect(),e.__resize_mutation_observer__=null),e.removeEventListener("scroll",E),e.removeChild(e.__resize_triggers__.triggers),e.__resize_triggers__=null),e.__resize_listeners__=null),!--y&&z&&z.parentNode.removeChild(z))}function k(e){var t=e.__resize_last__,s=t.width,n=t.height,i=e.offsetWidth,r=e.offsetHeight;return i!==s||r!==n?{width:i,height:r}:null}function C(){var e=w(this),t=e.rendered,s=e.detached;t!==this.__resize_rendered__&&(!s&&this.__resize_triggers__&&(M(this),this.addEventListener("scroll",E,!0)),this.__resize_rendered__=t,j(this))}function E(){var e=this;M(this),this.__resize_raf__&&m(this.__resize_raf__),this.__resize_raf__=f(function(){var t=k(e);t&&(e.__resize_last__=t,j(e))})}function j(e){e&&e.__resize_listeners__&&e.__resize_listeners__.forEach(function(t){t.call(e)})}function R(e){var t=b(e,"position");t&&"static"!==t||(e.style.position="relative"),e.__resize_old_position__=t,e.__resize_last__={};var s=v("div",{className:"resize-triggers"}),n=v("div",{className:"resize-expand-trigger"}),i=v("div"),r=v("div",{className:"resize-contract-trigger"});n.appendChild(i),s.appendChild(n),s.appendChild(r),e.appendChild(s),e.__resize_triggers__={triggers:s,expand:n,expandChild:i,contract:r},M(e),e.addEventListener("scroll",E,!0),e.__resize_last__={width:e.offsetWidth,height:e.offsetHeight}}function M(e){var t=e.__resize_triggers__,s=t.expand,n=t.expandChild,i=t.contract,r=i.scrollWidth,a=i.scrollHeight,o=s.offsetWidth,c=s.offsetHeight,l=s.scrollWidth,u=s.scrollHeight;i.scrollLeft=r,i.scrollTop=a,n.style.width=o+1+"px",n.style.height=c+1+"px",s.scrollLeft=l,s.scrollTop=u}var L=["legendselectchanged","legendselected","legendunselected","legendunscroll","datazoom","datarangeselected","timelinechanged","timelineplaychanged","restore","dataviewchanged","magictypechanged","geoselectchanged","geoselected","geounselected","pieselectchanged","pieselected","pieunselected","mapselectchanged","mapselected","mapunselected","axisareaselected","focusnodeadjacency","unfocusnodeadjacency","brush","brushselected","rendered","finished","click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],T={props:{options:Object,theme:[String,Object],initOptions:Object,group:String,autoResize:Boolean,watchShallow:Boolean,manualUpdate:Boolean},data:function(){return{lastArea:0}},watch:{group:function(e){this.chart.group=e}},methods:{mergeOptions:function(e,t,s){this.manualUpdate&&(this.manualOptions=e),this.chart?this.delegateMethod("setOption",e,t,s):this.init()},appendData:function(e){this.delegateMethod("appendData",e)},resize:function(e){this.delegateMethod("resize",e)},dispatchAction:function(e){this.delegateMethod("dispatchAction",e)},convertToPixel:function(e,t){return this.delegateMethod("convertToPixel",e,t)},convertFromPixel:function(e,t){return this.delegateMethod("convertFromPixel",e,t)},containPixel:function(e,t){return this.delegateMethod("containPixel",e,t)},showLoading:function(e,t){this.delegateMethod("showLoading",e,t)},hideLoading:function(){this.delegateMethod("hideLoading")},getDataURL:function(e){return this.delegateMethod("getDataURL",e)},getConnectedDataURL:function(e){return this.delegateMethod("getConnectedDataURL",e)},clear:function(){this.delegateMethod("clear")},dispose:function(){this.delegateMethod("dispose")},delegateMethod:function(e){var t;this.chart||this.init();for(var s=arguments.length,n=new Array(s>1?s-1:0),i=1;i<s;i++)n[i-1]=arguments[i];return(t=this.chart)[e].apply(t,n)},delegateGet:function(e,t){return this.chart||this.init(),this.chart[t]()},getArea:function(){return this.$el.offsetWidth*this.$el.offsetHeight},init:function(){var e=this;if(!this.chart){var t=c.a.init(this.$el,this.theme,this.initOptions);this.group&&(t.group=this.group),t.setOption(this.manualOptions||this.options||{},!0),L.forEach(function(s){t.on(s,function(t){e.$emit(s,t)})}),this.autoResize&&(this.lastArea=this.getArea(),this.__resizeHandler=u()(function(){0===e.lastArea?(e.mergeOptions({},!0),e.resize(),e.mergeOptions(e.options||e.manualOptions||{},!0)):e.resize(),e.lastArea=e.getArea()},100,{leading:!0}),S(this.$el,this.__resizeHandler)),a()(this,{width:{configurable:!0,get:function(){return e.delegateGet("width","getWidth")}},height:{configurable:!0,get:function(){return e.delegateGet("height","getHeight")}},isDisposed:{configurable:!0,get:function(){return!!e.delegateGet("isDisposed","isDisposed")}},computedOptions:{configurable:!0,get:function(){return e.delegateGet("computedOptions","getOption")}}}),this.chart=t}},destroy:function(){this.autoResize&&O(this.$el,this.__resizeHandler),this.dispose(),this.chart=null},refresh:function(){this.chart&&(this.destroy(),this.init())}},created:function(){var e=this;this.manualUpdate||this.$watch("options",function(t,s){!e.chart&&t?e.init():e.chart.setOption(t,t!==s)},{deep:!this.watchShallow});var t=["theme","initOptions","autoResize","manualUpdate","watchShallow"];t.forEach(function(t){e.$watch(t,function(){e.refresh()},{deep:!0})})},mounted:function(){this.options&&this.init()},activated:function(){this.autoResize&&this.chart&&this.chart.resize()},beforeDestroy:function(){this.chart&&this.destroy()},connect:function(e){"string"!==typeof e&&(e=e.map(function(e){return e.chart})),c.a.connect(e)},disconnect:function(e){c.a.disConnect(e)},registerMap:function(e,t,s){c.a.registerMap(e,t,s)},registerTheme:function(e,t){c.a.registerTheme(e,t)},graphic:c.a.graphic},U=T,D=(s("1e3c"),s("2877")),P=Object(D["a"])(U,n,i,!1,null,null,null);t["a"]=P.exports},"9d98":function(e,t,s){var n=s("63b6");n(n.S+n.F*!s("8e60"),"Object",{defineProperties:s("7e90")})},ac79:function(e,t,s){"use strict";var n=s("5f96"),i=s.n(n);i.a},ce5a:function(e,t,s){},d847:function(e,t,s){e.exports=s("5bba")},f3fb9:function(e,t,s){"use strict";var n=s("ce5a"),i=s.n(n);i.a},f5f7:function(e,t,s){}}]);