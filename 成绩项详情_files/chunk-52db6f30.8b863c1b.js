(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52db6f30"],{"00e1":function(e,t,n){},"0920f":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("m-header",{attrs:{title:"主页","show-back":!1}},[n("message-counter",{attrs:{slot:"left"},slot:"left"})],1),n("update-profile-notice",{attrs:{"is-mobile":!0}}),n("extension-slot",{attrs:{name:"studentHomeBanner",data:e.currentStudent}}),n("guardian-scenes"),e.currentSemester?n("day-schedules-comp",{attrs:{"current-semester":e.currentSemester,"is-mobile":!0}}):e._e(),n("div",{staticClass:"weekly-schedule"},[n("router-link",{staticClass:"btn btn-yellow",attrs:{tag:"button",type:"button",to:{name:"weeklySchedule"}}},[e._v(e._s(e.$t("查看一周课表")))])],1)],1)},o=[],s=n("170a"),i=n("0fea"),a=n("6f75"),c=n("eb42"),u=n("de1b"),l=n("fa00"),d={components:{UpdateProfileNotice:a["a"],MessageCounter:c["a"],DaySchedulesComp:u["a"],GuardianScenes:l["a"]},computed:{hasLiveVideoFun:function(){var e=i["a"].identity.reflection.school_id,t=moment().isSame("2017-02-04","day");return 4===e&&t},currentStudent:function(){return i["a"].identity.reflection},currentSemester:function(){return s["default"].current}}},p=d,f=(n("b6a9"),n("2877")),b=Object(f["a"])(p,r,o,!1,null,"f21593d0",null);t["default"]=b.exports},"1b10":function(e,t,n){"use strict";var r=n("9509"),o=n.n(r);o.a},2354:function(e,t,n){"use strict";var r=n("3d71"),o=n.n(r);o.a},"3d71":function(e,t,n){},"5e61":function(e,t,n){"use strict";var r=n("dbd4"),o=n.n(r);o.a},"68cf":function(e,t,n){"use strict";var r=n("00e1"),o=n.n(r);o.a},"6f75":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return!e.isGuardian&&e.show?n("div",{staticClass:"flex center justify",class:[e.isMobile?"student-update-mobile-wrap":"student-update-wrap"]},[e.isMobile?[n("div",[n("p",[e._v("您的个人资料完成度为"+e._s(e.progress)+"%")]),n("p",{staticClass:"student-update-subtitle"},[e._v("请完成您的个人资料")])]),n("router-link",{staticClass:"btn btn-yellow",attrs:{tag:"button",type:"button",to:"/profile"}},[e._v(e._s(e.$t("去完善")))])]:[n("div",{staticClass:"box-card"},[n("div",{staticClass:"card-body card-yellow"},[n("div",[n("a",{on:{click:e.gotoProfile}},[n("h2",[e._v("您的个人资料完成度为"+e._s(e.progress)+"%")])]),n("p",[e._v("请完成您的个人资料")])]),n("a",{staticClass:"btn btn-default",on:{click:e.gotoProfile}},[e._v(e._s(e.$t("去完善")))])])])]],2):e._e()},o=[],s=(n("96cf"),n("3b8d")),i=n("0fea"),a=n("a98f"),c={props:{isMobile:{type:Boolean,default:!1}},data:function(){return{show:!1,currentUser:i["a"].identity,progress:0,fields:[],isGuardian:i["a"].isGuardian}},created:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.currentUser.reflection,e.next=3,a["a"].findPolicy({role:1,policy:"owner.write"});case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=new a["a"];case 6:if(n=e.t0,r=n.fields.length,r){e.next=10;break}return e.abrupt("return");case 10:o=n.fields.filter(function(e){return null!=t[e]&&""!==t[e]}).length,this.progress=Math.floor(100*o/r),this.progress<=30&&(this.show=!0);case 13:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{gotoProfile:function(){this.$router.push({name:"commonProfile"})}}},u=c,l=(n("68cf"),n("2877")),d=Object(l["a"])(u,r,o,!1,null,"37c3ab90",null);t["a"]=d.exports},7528:function(e,t,n){"use strict";var r=function(e,t){var n=t._c;return n("li",{staticClass:"se-option-header"},[t.props.divider?n("hr"):t._e(),n("div",{staticClass:"se-option-header__label"},[t._t("default")],2)])},o=[],s={name:"SeOptionHeader"},i=s,a=(n("1b10"),n("2877")),c=Object(a["a"])(i,r,o,!0,null,"16c69a10",null),u=c.exports;t["a"]=u},7582:function(e,t,n){"use strict";var r=n("f837"),o=n.n(r);o.a},"92e3":function(e,t,n){},9509:function(e,t,n){},9942:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("se-popper",{staticClass:"se-dropdown se-component-desktop",class:{"se-dropdown_active":e.active},attrs:{disabled:e.disabled,"close-on-popper-click":"",options:e.$attrs["popper-options"]},on:{show:function(t){e.active=!0},hide:function(t){e.active=!1}}},[n("div",{ref:"reference",staticClass:"se-dropdown__reference",attrs:{slot:"reference"},slot:"reference"},[e._t("default",[n("se-button",{staticClass:"se-dropdown__button",attrs:{"right-icon":"spread-selectbox",type:e.buttonType,size:e.buttonSize,disabled:e.disabled}},[e._v(e._s(e.buttonLabel))])])],2),n("se-dropdown-menu",{ref:"menu",attrs:{menu:e.menu}})],1)},o=[],s=n("a026"),i=n("0481"),a=n("c200"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"se-dropdown__menu"},[e._l(e.menu,function(t){return[t.title?n("se-option-header",[e._v(e._s(t.title))]):t.menu&&t.menu.length?n("se-popper",{attrs:{options:e.popperOptions,"close-on-popper-click":""},on:{created:e.closeSibling,hide:function(n){return e.onPopperHide(t)},show:function(n){e.activeItem=t}},nativeOn:{click:function(e){e.stopPropagation()}}},[n("se-dropdown-item",{attrs:{slot:"reference",cascade:"",active:e.activeItem===t},slot:"reference"},[e._v(e._s(t.label))]),n("se-dropdown-menu",{attrs:{parent:t,menu:t.menu}})],1):n("se-dropdown-item",{nativeOn:{click:function(n){return e.onItemClick(t)}}},[t.link?[n("router-link",{attrs:{to:t.link}},[e._v(e._s(t.label))])]:[e._v(e._s(t.label))]],2)]})],2)},u=[],l=n("3f84"),d=n.n(l),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"se-dropdown-item ellipsis",class:e.classes},[e._t("default"),e.cascade?n("se-icon",{staticClass:"se-dropdown-item__cascade",attrs:{name:"spread-cascader"}}):e._e()],2)},f=[],b=n("43b5"),h={name:"SeDropdownItem",components:{SeIcon:b["a"]},props:{cascade:{type:Boolean,default:!1},active:{type:Boolean,default:!1}},computed:{classes:function(){return{"se-dropdown-item_active":this.active,"se-dropdown-item_cascade":this.cascade}}}},m=h,v=(n("7582"),n("2877")),w=Object(v["a"])(m,p,f,!1,null,"041d98e7",null),_=w.exports,y=n("7528"),g={name:"SeDropdownMenu",components:{SeDropdownItem:_,SeOptionHeader:y["a"],SePopper:i["a"]},inject:{dropdown:{default:null}},props:{parent:{type:Object,default:null},menu:{type:Array,required:!0}},data:function(){return{activePopper:null,activeItem:null}},computed:{popperOptions:function(){var e=this.$attrs["popper-options"]||{};return d()(e,{placement:"right"}),e}},created:function(){this.dropdown&&this.dropdown.eventHub.$on("close-children",this.closeForParent)},beforeDestroy:function(){this.dropdown&&this.dropdown.eventHub.$off("close-children",this.closeForParent)},methods:{onItemClick:function(e){e.event&&this.dropdown&&this.dropdown.$emit(e.event,e.carry)},closeSibling:function(e){this.activePopper&&this.activePopper!==e&&this.activePopper.doClose(),this.activePopper=e},closeChildren:function(e){this.dropdown&&this.dropdown.eventHub.$emit("close-children",e)},closeForParent:function(e){this.parent===e&&this.activePopper&&this.activePopper.doClose()},onPopperHide:function(e){this.closeChildren(e),this.activeItem===e&&(this.activeItem=null)}}},C=g,k=(n("5e61"),Object(v["a"])(C,c,u,!1,null,"51514db2",null)),S=k.exports,O={name:"SeDropdown",components:{SePopper:i["a"],SeButton:a["a"],SeDropdownMenu:S},props:{buttonLabel:{type:String,default:""},buttonType:{type:String,default:"default"},buttonSize:{type:String,default:null},menu:{type:Array,required:!0},disabled:{type:Boolean,default:!1}},provide:function(){return{dropdown:this}},data:function(){return{active:!1}},computed:{eventHub:function(){return new s["default"]}},mounted:function(){var e=this.$refs,t=e.reference,n=e.menu,r=t.getBoundingClientRect().width;n.$el.style.minWidth="".concat(r,"px")}},P=O,x=(n("d19e"),Object(v["a"])(P,r,o,!1,null,"1b0cdc78",null)),j=x.exports;t["a"]=j},a98f:function(e,t,n){"use strict";n.d(t,"a",function(){return d});n("96cf");var r=n("3b8d"),o=n("d225"),s=n("b0b4"),i=n("308d"),a=n("6bb5"),c=n("4e2b"),u=n("3fa7"),l=n("0fea"),d=function(e){function t(){return Object(o["a"])(this,t),Object(i["a"])(this,Object(a["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),Object(s["a"])(t,null,[{key:"findPolicy",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.findAll(t);case 2:return n=e.sent,e.abrupt("return",n[0]);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"defaults",get:function(){return{role:1,policy:"owner.write",fields:[],description:""}}},{key:"pagination",get:function(){return null}},{key:"baseURL",get:function(){return"https://platform.seiue.com"}},{key:"controller",get:function(){return"schools/".concat(l["a"].schoolId,"/reflection-policies")}}]),t}(u["a"])},b6a9:function(e,t,n){"use strict";var r=n("92e3"),o=n.n(r);o.a},d19e:function(e,t,n){"use strict";var r=n("f754"),o=n.n(r);o.a},dbd4:function(e,t,n){},eb42:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"notice-sign"},[n("router-link",{attrs:{slot:"left",to:{name:"messagesNotices"}},slot:"left"},[n("se-icon",{attrs:{name:"message-normal",size:"18"}}),e.unreadNoticeCount>0?n("div",{staticClass:"unread-notice"},[n("div",{staticClass:"notice-count"},[e._v(e._s(e.unreadNoticeCountLabel))])]):e._e()],1)],1)},o=[],s=(n("96cf"),n("3b8d")),i=n("bda6"),a={data:function(){return{unreadNoticeCount:0}},computed:{unreadNoticeCountLabel:function(){return this.unreadNoticeCount<100?this.unreadNoticeCount:"99+"}},created:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["a"].getUnreadCount();case 2:this.unreadNoticeCount=e.sent;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},c=a,u=(n("2354"),n("2877")),l=Object(u["a"])(c,r,o,!1,null,"7bc5e2e4",null);t["a"]=l.exports},f754:function(e,t,n){},f837:function(e,t,n){}}]);